(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],l=0,g=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&g.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(g.length)g.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var p=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v("My Dojo")]),n("div",{staticClass:"sidebar left"},[n("h2",[e._v("Members")]),n("ul",e._l(e.members,(function(t){return n("li",{key:t.id},[n("label",[e._v(e._s(t.name))]),n("table",[e._m(0,!0),n("tr",[n("td",[e._v(e._s(t.role))]),n("td",[e._v(e._s(t.strength))]),n("td",[e._v(e._s(t.upperTechnique))]),n("td",[e._v(e._s(t.lowerTechnique))]),n("td",[e._v(e._s(t.defence))]),n("td",[e._v(e._s(t.energy))]),n("td",[e._v(e._s(e.squating?t.strengthExperience:e.kicking?t.lowerExperience:e.punching?t.upperExperience:e.blocking?t.defenceExperience:""))])])])])})),0)]),n("Dojo",{attrs:{trainingProgram:e.trainingProgram,members:e.members,expUp:e.expUp},on:{loop:e.onecycle}}),n("div",{staticClass:"sidebar"},[n("h2",[e._v("Training Program")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.trainingProgram,expression:"trainingProgram"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.trainingProgram=t.target.multiple?n:n[0]}}},e._l(e.states,(function(t){return n("option",{key:t},[e._v(e._s(t))])})),0)])],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("Role")]),n("th",[e._v("Str")]),n("th",[e._v("Upp")]),n("th",[e._v("Low")]),n("th",[e._v("Def")]),n("th",[e._v("Eng")]),n("th",[e._v("Exp")])])}],o=(n("4de4"),n("4160"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Canvas",{ref:"canvas",attrs:{id:"canvas",width:"500",height:"600"}})}),s=[],c=(n("7db0"),n("b85c")),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("canvas",{attrs:{id:e.id,width:e.width,height:e.height}})},p=[],l=n("1157"),g=n.n(l),h=n("acea"),f=n.n(h);f()(g.a,window);var d={props:["id","width","height"],methods:{getCanvas:function(){return this.id?g()("#"+this.id):g()("canvas")}}},m=d,v=n("2877"),y=Object(v["a"])(m,u,p,!1,null,null,null),_=y.exports,x="Resting",T="Blocking",b="Kicking",E="Squating",S="Punching",w=[x,T,b,E,S],k={STATE_RESTING:x,STATE_BLOCKING:T,STATE_KICKING:b,STATE_SQUATING:E,STATE_PUNCHING:S,trainingRegimes:w},P={resting:["master2.png","master3.png"],blocking:["master2.png","master4.png"],kicking:["master2.png","master5.png"],squating:["master2.png","master6.png"],punching:["master2.png","master7.png"],collapsed:["master8.png"]},A={resting:["student1.png","student2.png"],blocking:["student1.png","student6.png"],kicking:["student1.png","student4.png"],squating:["student1.png","student5.png"],punching:["student1.png","student3.png"],collapsed:["student7.png"]},U=function(e){switch(e){case"Trainer":return P;case"Student":return A}},N=function(e){return"member"+e},C=function(e){return"expUp"+e},I=function(e,t,n,r){if(0===r)return U(n).collapsed[0];var i=1===t?0:1;switch(e){case k.STATE_RESTING:return U(n).resting[i];case k.STATE_BLOCKING:return U(n).blocking[i];case k.STATE_KICKING:return U(n).kicking[i];case k.STATE_SQUATING:return U(n).squating[i];case k.STATE_PUNCHING:return U(n).punching[i]}},O={components:{Canvas:_},props:["trainingProgram","members","expUp"],data:function(){return{masterAnimation:1}},mounted:function(){this.canvas.drawRect({fillStyle:"#c33",x:1,y:1,width:400,height:400,fromCenter:!1});for(var e=0;e<5;e++)this.canvas.addLayer({type:"image",source:"wall.gif",x:100*e,y:0,width:100,height:100,fromCenter:!1});for(var t=0;t<5;t++)for(var n=0;n<5;n++)this.canvas.addLayer({type:"image",source:"floorboard.jpg",x:100*t,y:100*n+100,width:100,height:100,fromCenter:!1});this.animationLoop()},computed:{canvas:function(){return this.$refs["canvas"].getCanvas()}},watch:{members:function(){var e=this;this.members.forEach((function(t){e.canvas.addLayer({name:N(t.id),type:"image",source:U(t.role).resting[0],x:100*t.position.x,y:100*t.position.y-50,width:100,height:100,fromCenter:!1}),e.canvas.addLayer({name:C(t.id),type:"text",text:"EXP UP",fillStyle:"#0000",strokeStyle:"#0000",strokeWidth:2,x:100*t.position.x+50,y:100*t.position.y+50,fontSize:40})}))},expUp:function(){var e=this;this.members.forEach((function(t){var n=e.expUp.find((function(e){return e.id===t.id}));if(n){var r=e.canvas.getLayer(C(t.id));r.fillStyle="#9cf","Exp"===n.text?r.strokeStyle="#25a":r.strokeStyle="#c72c2c",r.y=100*t.position.y+50,r.text=n.text+" Up",e.canvas.animateLayer(C(t.id),{fillStyle:"#0000",strokeStyle:"#0000",y:100*t.position.y},1e3)}}))}},methods:{animationLoop:function(){var e=this;this.masterAnimation=1===this.masterAnimation?2:1;var t,n=Object(c["a"])(this.members);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this.canvas.getLayer(N(r.id));i.source=I(this.trainingProgram,this.masterAnimation,r.role,r.energy)}}catch(a){n.e(a)}finally{n.f()}this.canvas.drawLayers(),setTimeout((function(){return e.animationLoop()}),800),this.$emit("loop")}}},j=O,G=Object(v["a"])(j,o,s,!1,null,null,null),L=G.exports,q="Trainer",K="Student",R=function(e,t,n,r){return{id:e,role:t,name:n,strength:0,strengthExperience:0,upperTechnique:0,upperExperience:0,lowerTechnique:0,lowerExperience:0,defence:0,defenceExperience:0,energy:20,position:r}},$=function(e,t,n,r,i){e[n]=e[n]+1,e.energy>0&&(e.energy=e.energy-1,e[n]===5*(e[t]+1)?(e[t]=e[t]+1,e[n]=0,i.push({id:e.id,text:r})):i.push({id:e.id,text:"Exp"}))},M={name:"App",components:{Dojo:L},data:function(){return{trainingProgram:k.STATE_RESTING,states:k.trainingRegimes,members:[],cycle:0,expUp:[]}},mounted:function(){var e=R(1,q,"Bill",{x:2,y:1});e.strength=10,this.members.push(e),this.members.push(R(2,K,"Sam",{x:2,y:3}))},computed:{squating:function(){return this.trainingProgram===k.STATE_SQUATING},kicking:function(){return this.trainingProgram===k.STATE_KICKING},punching:function(){return this.trainingProgram===k.STATE_PUNCHING},blocking:function(){return this.trainingProgram===k.STATE_BLOCKING},resting:function(){return this.trainingProgram===k.STATE_RESTING}},methods:{onecycle:function(){this.cycle=this.cycle+1,this.cycle>1&&(this.cycle=0,this.oneturn())},oneturn:function(){var e=this;this.expUp=[],this.members.filter((function(e){return e.role===K})).forEach((function(t){e.squating?$(t,"strength","strengthExperience","Str",e.expUp):e.kicking?$(t,"lowerTechnique","lowerExperience","Low",e.expUp):e.punching?$(t,"upperTechnique","upperExperience","Upp",e.expUp):e.blocking?$(t,"defence","defenceExperience","Def",e.expUp):e.resting&&t.energy<20&&(t.energy=t.energy+2)}))}}},B=M,D=(n("034f"),Object(v["a"])(B,i,a,!1,null,null,null)),H=D.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(H)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.20485749.js.map