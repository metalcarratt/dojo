(function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],p=0,d=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v("My Dojo")]),n("div",{staticClass:"sidebar left"},[n("h2",[e._v("Members")]),n("ul",e._l(e.members,(function(t){return n("li",{key:t.id},[n("label",[e._v(e._s(t.name))]),n("table",[n("tr",[n("th",[e._v("Role")]),n("th",[n("font-awesome-icon",{attrs:{icon:"dumbbell"}})],1),n("th",[n("font-awesome-icon",{attrs:{icon:"hand-rock"}})],1),n("th",[n("font-awesome-icon",{attrs:{icon:"socks"}})],1),n("th",[n("font-awesome-icon",{attrs:{icon:"shield-alt"}})],1),n("th",[n("font-awesome-icon",{attrs:{icon:"bolt"}})],1),n("th",[e._v("Exp")])]),n("tr",[n("td",[e._v(e._s(t.role))]),n("td",[e._v(e._s(t.strength))]),n("td",[e._v(e._s(t.upperTechnique))]),n("td",[e._v(e._s(t.lowerTechnique))]),n("td",[e._v(e._s(t.defence))]),n("td",[e._v(e._s(t.energy))]),n("td",[e._v(e._s(e.squating?t.strengthExperience:e.kicking?t.lowerExperience:e.punching?t.upperExperience:e.blocking?t.defenceExperience:""))])])])])})),0)]),n("Dojo",{attrs:{trainingProgram:e.trainingProgram,members:e.members,expUp:e.expUp,speed:e.speed},on:{loop:e.onecycle}}),n("div",{staticClass:"sidebar"},[n("h2",[e._v("Training Program")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.trainingProgram,expression:"trainingProgram"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.trainingProgram=t.target.multiple?n:n[0]}}},e._l(e.states,(function(t){return n("option",{key:t},[e._v(e._s(t))])})),0),n("h2",[e._v("Settings")]),n("label",[e._v("Speed: ")]),n("button",{on:{click:function(t){e.speed=e.speed-1}}},[e._v("-")]),e._v(" "+e._s(e.speed)+" "),n("button",{on:{click:function(t){e.speed=e.speed+1}}},[e._v("+")]),e._v(" (lower is faster) "),n("h2",[e._v("Goals")]),e._l(e.goals,(function(t,r){return n("div",{key:r,staticClass:"goal"},[n("h3",[e._v(e._s(t.name))]),n("p",[e._v(e._s(t.detail))])])})),e._l(e.completedGoals,(function(t,r){return n("div",{key:r,staticClass:"goal completed"},[n("h3",[e._v(e._s(t.name))]),n("font-awesome-icon",{attrs:{icon:"check"}})],1)}))],2)],1)},o=[],a=(n("99af"),n("4de4"),n("4160"),n("c975"),n("a434"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Canvas",{ref:"canvas",attrs:{id:"canvas",width:"500",height:"600"}})}),s=[],c=(n("7db0"),n("b85c")),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("canvas",{attrs:{id:e.id,width:e.width,height:e.height}})},l=[],p=n("1157"),d=n.n(p),g=n("acea"),h=n.n(g);h()(d.a,window);var f={props:["id","width","height"],methods:{getCanvas:function(){return this.id?d()("#"+this.id):d()("canvas")}}},m=f,v=n("2877"),y=Object(v["a"])(m,u,l,!1,null,null,null),_=y.exports,b="Resting",x="Blocking",T="Kicking",S="Squating",k="Punching",w=[b,x,T,S,k],E={STATE_RESTING:b,STATE_BLOCKING:x,STATE_KICKING:T,STATE_SQUATING:S,STATE_PUNCHING:k,trainingRegimes:w},P={resting:["master2.png","master3.png"],blocking:["master2.png","master4.png"],kicking:["master2.png","master5.png"],squating:["master2.png","master6.png"],punching:["master2.png","master7.png"],collapsed:["master8.png"]},A={resting:["student1.png","student2.png"],blocking:["student1.png","student6.png"],kicking:["student1.png","student4.png"],squating:["student1.png","student5.png"],punching:["student1.png","student3.png"],collapsed:["student7.png"]},C=function(e){switch(e){case"Trainer":return P;case"Student":return A}},G=function(e){return"member"+e},I=function(e){return"expUp"+e},U=function(e,t,n,r){if(0===r)return C(n).collapsed[0];var i=1===t?0:1;switch(e){case E.STATE_RESTING:return C(n).resting[i];case E.STATE_BLOCKING:return C(n).blocking[i];case E.STATE_KICKING:return C(n).kicking[i];case E.STATE_SQUATING:return C(n).squating[i];case E.STATE_PUNCHING:return C(n).punching[i]}},N={components:{Canvas:_},props:["trainingProgram","members","expUp","speed"],data:function(){return{masterAnimation:1}},mounted:function(){this.canvas.drawRect({fillStyle:"#c33",x:1,y:1,width:400,height:400,fromCenter:!1});for(var e=0;e<5;e++)this.canvas.addLayer({type:"image",source:"wall.gif",x:100*e,y:0,width:100,height:100,fromCenter:!1});for(var t=0;t<5;t++)for(var n=0;n<5;n++)this.canvas.addLayer({type:"image",source:"floorboard.jpg",x:100*t,y:100*n+100,width:100,height:100,fromCenter:!1});this.animationLoop()},computed:{canvas:function(){return this.$refs["canvas"].getCanvas()}},watch:{members:function(){var e=this;this.members.forEach((function(t){e.canvas.addLayer({name:G(t.id),type:"image",source:C(t.role).resting[0],x:100*t.position.x,y:100*t.position.y-50,width:100,height:100,fromCenter:!1}),e.canvas.addLayer({name:I(t.id),type:"text",text:"EXP UP",fillStyle:"#0000",strokeStyle:"#0000",strokeWidth:2,x:100*t.position.x+50,y:100*t.position.y+50,fontSize:40})}))},expUp:function(){var e=this;this.members.forEach((function(t){var n=e.expUp.find((function(e){return e.id===t.id}));if(n){var r=e.canvas.getLayer(I(t.id));r.fillStyle="#9cf","Exp"===n.text?r.strokeStyle="#25a":r.strokeStyle="#c72c2c",r.y=100*t.position.y+50,r.text=n.text+" Up",e.canvas.animateLayer(I(t.id),{fillStyle:"#0000",strokeStyle:"#0000",y:100*t.position.y},1e3)}}))}},methods:{animationLoop:function(){var e=this;this.masterAnimation=1===this.masterAnimation?2:1;var t,n=Object(c["a"])(this.members);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this.canvas.getLayer(G(r.id));i.source=U(this.trainingProgram,this.masterAnimation,r.role,r.energy)}}catch(o){n.e(o)}finally{n.f()}this.canvas.drawLayers(),setTimeout((function(){return e.animationLoop()}),100*this.speed),this.$emit("loop")}}},O=N,j=Object(v["a"])(O,a,s,!1,null,null,null),q=j.exports,L=(n("b0c0"),"Sam"),K={id:1,name:"Buff Sam up!",detail:"Sam is lacking in strength. Get him up to level one.",completed:function(e){return M(e,L).strength>=1},next:function(){return[R,B]}},R={id:2,name:"Improve Sam's skill",detail:"Sam needs to improve his fighting skill. Get his fist and leg skill to level one",completed:function(e){var t=M(e,L);return t.upperTechnique>=1&&t.lowerTechnique>=1}},B={id:3,name:"Improve Sam's defence",detail:"Sam needs to tighten up his defence. Get his defence skill to level one",completed:function(e){var t=M(e,L);return t.defence>=1}},M=function(e,t){return e.find((function(e){return e.name===t}))},$={goal1:K},D="Trainer",H="Student",Q=function(e,t,n,r){return{id:e,role:t,name:n,strength:0,strengthExperience:0,upperTechnique:0,upperExperience:0,lowerTechnique:0,lowerExperience:0,defence:0,defenceExperience:0,energy:20,position:r,goals:[]}},J=function(e,t,n,r,i){e.energy>0&&(e[n]=e[n]+1,e.energy=e.energy-1,e[n]===5*(e[t]+1)?(e[t]=e[t]+1,e[n]=0,i.push({id:e.id,text:r})):i.push({id:e.id,text:"Exp"}))},z={name:"App",components:{Dojo:q},data:function(){return{trainingProgram:E.STATE_RESTING,states:E.trainingRegimes,members:[],cycle:0,expUp:[],speed:8,goals:[],completedGoals:[]}},mounted:function(){var e=Q(1,D,"Bill",{x:2,y:1});e.strength=10,this.members.push(e),this.members.push(Q(2,H,"Sam",{x:2,y:3})),this.goals.push($.goal1)},computed:{squating:function(){return this.trainingProgram===E.STATE_SQUATING},kicking:function(){return this.trainingProgram===E.STATE_KICKING},punching:function(){return this.trainingProgram===E.STATE_PUNCHING},blocking:function(){return this.trainingProgram===E.STATE_BLOCKING},resting:function(){return this.trainingProgram===E.STATE_RESTING}},methods:{checkCompleted:function(e){var t=e.completed(this.members);return t&&(this.goals.splice(this.goals.indexOf(e),1),this.completedGoals.unshift(e),this.goals=this.goals.concat(e.next())),t},onecycle:function(){this.cycle=this.cycle+1,this.cycle>1&&(this.cycle=0,this.oneturn())},oneturn:function(){var e=this;this.expUp=[],this.members.filter((function(e){return e.role===H})).forEach((function(t){e.squating?J(t,"strength","strengthExperience","Str",e.expUp):e.kicking?J(t,"lowerTechnique","lowerExperience","Low",e.expUp):e.punching?J(t,"upperTechnique","upperExperience","Upp",e.expUp):e.blocking?J(t,"defence","defenceExperience","Def",e.expUp):e.resting&&t.energy<20&&(t.energy=t.energy+2)})),this.goals.forEach((function(t){e.checkCompleted(t)}))}}},W=z,X=(n("034f"),Object(v["a"])(W,i,o,!1,null,null,null)),F=X.exports,V=n("ecee"),Y=n("c074"),Z=n("ad3d");V["c"].add(Y["f"],Y["d"],Y["e"],Y["a"],Y["c"],Y["b"]),r["a"].component("font-awesome-icon",Z["a"]),r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(F)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.aa65cdc7.js.map