(function(e){function n(n){for(var r,a,s=n[0],c=n[1],u=n[2],l=0,g=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&g.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(n);while(g.length)g.shift()();return o.push.apply(o,u||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],r=!0,s=1;s<t.length;s++){var c=t[s];0!==i[c]&&(r=!1)}r&&(o.splice(n--,1),e=a(a.s=t[0]))}return e}var r={},i={app:0},o=[];function a(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=r,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)a.d(t,r,function(n){return e[n]}.bind(null,r));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var p=c;o.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";t("85ec")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("h1",[e._v("My Dojo")]),t("div",{staticClass:"sidebar left"},[t("h2",[e._v("Members")]),t("ul",e._l(e.members,(function(n){return t("li",{key:n.id},[t("label",[e._v(e._s(n.name))]),t("table",[t("tr",[t("th",[e._v("Role")]),t("th",[t("font-awesome-icon",{attrs:{icon:"dumbbell"}})],1),t("th",[t("font-awesome-icon",{attrs:{icon:"hand-rock"}})],1),t("th",[t("font-awesome-icon",{attrs:{icon:"socks"}})],1),t("th",[t("font-awesome-icon",{attrs:{icon:"shield-alt"}})],1),t("th",[t("font-awesome-icon",{attrs:{icon:"bolt"}})],1),t("th",[e._v("Exp")])]),t("tr",[t("td",[e._v(e._s(n.role))]),t("td",[e._v(e._s(n.strength))]),t("td",[e._v(e._s(n.upperTechnique))]),t("td",[e._v(e._s(n.lowerTechnique))]),t("td",[e._v(e._s(n.defence))]),t("td",[e._v(e._s(n.energy))]),t("td",[e._v(e._s(e.squating?n.strengthExperience:e.kicking?n.lowerExperience:e.punching?n.upperExperience:e.blocking?n.defenceExperience:""))])])])])})),0)]),t("Dojo",{attrs:{trainingProgram:e.trainingProgram,members:e.members,expUp:e.expUp,speed:e.speed},on:{loop:e.onecycle}}),t("div",{staticClass:"sidebar"},[t("h2",[e._v("Training Program")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.trainingProgram,expression:"trainingProgram"}],on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.trainingProgram=n.target.multiple?t:t[0]}}},e._l(e.states,(function(n){return t("option",{key:n},[e._v(e._s(n))])})),0),t("h2",[e._v("Settings")]),t("label",[e._v("Speed: ")]),t("button",{on:{click:function(n){e.speed=e.speed-1}}},[e._v("-")]),e._v(" "+e._s(e.speed)+" "),t("button",{on:{click:function(n){e.speed=e.speed+1}}},[e._v("+")]),e._v(" (lower is faster) ")])],1)},o=[],a=(t("4de4"),t("4160"),t("159b"),function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("Canvas",{ref:"canvas",attrs:{id:"canvas",width:"500",height:"600"}})}),s=[],c=(t("7db0"),t("b85c")),u=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("canvas",{attrs:{id:e.id,width:e.width,height:e.height}})},p=[],l=t("1157"),g=t.n(l),d=t("acea"),h=t.n(d);h()(g.a,window);var f={props:["id","width","height"],methods:{getCanvas:function(){return this.id?g()("#"+this.id):g()("canvas")}}},m=f,v=t("2877"),y=Object(v["a"])(m,u,p,!1,null,null,null),_=y.exports,b="Resting",x="Blocking",T="Kicking",S="Squating",w="Punching",E=[b,x,T,S,w],k={STATE_RESTING:b,STATE_BLOCKING:x,STATE_KICKING:T,STATE_SQUATING:S,STATE_PUNCHING:w,trainingRegimes:E},P={resting:["master2.png","master3.png"],blocking:["master2.png","master4.png"],kicking:["master2.png","master5.png"],squating:["master2.png","master6.png"],punching:["master2.png","master7.png"],collapsed:["master8.png"]},A={resting:["student1.png","student2.png"],blocking:["student1.png","student6.png"],kicking:["student1.png","student4.png"],squating:["student1.png","student5.png"],punching:["student1.png","student3.png"],collapsed:["student7.png"]},U=function(e){switch(e){case"Trainer":return P;case"Student":return A}},N=function(e){return"member"+e},C=function(e){return"expUp"+e},I=function(e,n,t,r){if(0===r)return U(t).collapsed[0];var i=1===n?0:1;switch(e){case k.STATE_RESTING:return U(t).resting[i];case k.STATE_BLOCKING:return U(t).blocking[i];case k.STATE_KICKING:return U(t).kicking[i];case k.STATE_SQUATING:return U(t).squating[i];case k.STATE_PUNCHING:return U(t).punching[i]}},O={components:{Canvas:_},props:["trainingProgram","members","expUp","speed"],data:function(){return{masterAnimation:1}},mounted:function(){this.canvas.drawRect({fillStyle:"#c33",x:1,y:1,width:400,height:400,fromCenter:!1});for(var e=0;e<5;e++)this.canvas.addLayer({type:"image",source:"wall.gif",x:100*e,y:0,width:100,height:100,fromCenter:!1});for(var n=0;n<5;n++)for(var t=0;t<5;t++)this.canvas.addLayer({type:"image",source:"floorboard.jpg",x:100*n,y:100*t+100,width:100,height:100,fromCenter:!1});this.animationLoop()},computed:{canvas:function(){return this.$refs["canvas"].getCanvas()}},watch:{members:function(){var e=this;this.members.forEach((function(n){e.canvas.addLayer({name:N(n.id),type:"image",source:U(n.role).resting[0],x:100*n.position.x,y:100*n.position.y-50,width:100,height:100,fromCenter:!1}),e.canvas.addLayer({name:C(n.id),type:"text",text:"EXP UP",fillStyle:"#0000",strokeStyle:"#0000",strokeWidth:2,x:100*n.position.x+50,y:100*n.position.y+50,fontSize:40})}))},expUp:function(){var e=this;this.members.forEach((function(n){var t=e.expUp.find((function(e){return e.id===n.id}));if(t){var r=e.canvas.getLayer(C(n.id));r.fillStyle="#9cf","Exp"===t.text?r.strokeStyle="#25a":r.strokeStyle="#c72c2c",r.y=100*n.position.y+50,r.text=t.text+" Up",e.canvas.animateLayer(C(n.id),{fillStyle:"#0000",strokeStyle:"#0000",y:100*n.position.y},1e3)}}))}},methods:{animationLoop:function(){var e=this;this.masterAnimation=1===this.masterAnimation?2:1;var n,t=Object(c["a"])(this.members);try{for(t.s();!(n=t.n()).done;){var r=n.value,i=this.canvas.getLayer(N(r.id));i.source=I(this.trainingProgram,this.masterAnimation,r.role,r.energy)}}catch(o){t.e(o)}finally{t.f()}this.canvas.drawLayers(),setTimeout((function(){return e.animationLoop()}),100*this.speed),this.$emit("loop")}}},j=O,G=Object(v["a"])(j,a,s,!1,null,null,null),L=G.exports,q="Trainer",K="Student",R=function(e,n,t,r){return{id:e,role:n,name:t,strength:0,strengthExperience:0,upperTechnique:0,upperExperience:0,lowerTechnique:0,lowerExperience:0,defence:0,defenceExperience:0,energy:20,position:r}},M=function(e,n,t,r,i){e.energy>0&&(e[t]=e[t]+1,e.energy=e.energy-1,e[t]===5*(e[n]+1)?(e[n]=e[n]+1,e[t]=0,i.push({id:e.id,text:r})):i.push({id:e.id,text:"Exp"}))},$={name:"App",components:{Dojo:L},data:function(){return{trainingProgram:k.STATE_RESTING,states:k.trainingRegimes,members:[],cycle:0,expUp:[],speed:8}},mounted:function(){var e=R(1,q,"Bill",{x:2,y:1});e.strength=10,this.members.push(e),this.members.push(R(2,K,"Sam",{x:2,y:3}))},computed:{squating:function(){return this.trainingProgram===k.STATE_SQUATING},kicking:function(){return this.trainingProgram===k.STATE_KICKING},punching:function(){return this.trainingProgram===k.STATE_PUNCHING},blocking:function(){return this.trainingProgram===k.STATE_BLOCKING},resting:function(){return this.trainingProgram===k.STATE_RESTING}},methods:{onecycle:function(){this.cycle=this.cycle+1,this.cycle>1&&(this.cycle=0,this.oneturn())},oneturn:function(){var e=this;this.expUp=[],this.members.filter((function(e){return e.role===K})).forEach((function(n){e.squating?M(n,"strength","strengthExperience","Str",e.expUp):e.kicking?M(n,"lowerTechnique","lowerExperience","Low",e.expUp):e.punching?M(n,"upperTechnique","upperExperience","Upp",e.expUp):e.blocking?M(n,"defence","defenceExperience","Def",e.expUp):e.resting&&n.energy<20&&(n.energy=n.energy+2)}))}}},B=$,D=(t("034f"),Object(v["a"])(B,i,o,!1,null,null,null)),H=D.exports,Q=t("ecee"),J=t("c074"),z=t("ad3d");Q["c"].add(J["e"],J["c"],J["d"],J["a"],J["b"]),r["a"].component("font-awesome-icon",z["a"]),r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(H)}}).$mount("#app")},"85ec":function(e,n,t){}});
//# sourceMappingURL=app.4433fe2b.js.map